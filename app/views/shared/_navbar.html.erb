<nav class="bg-gray-800 p-4 text-white shadow-lg">
  <div class="container mx-auto flex items-center justify-between">

    <div>
      <%= link_to "RideBooker", home_path, class: "text-white text-xl font-bold no-underline" %>
    </div>

    <div class="flex flex-wrap items-center space-x-6">
      <% if session[:user_id] %>
        <% user = User.find_by(id: session[:user_id]) %>

        <% if user %>
          <% if user.userable_type == "Customer" %>
            <%= link_to "Book a Trip", vehicles_path, class: "text-white no-underline text-base" %>
            <%= link_to "My Bookings", bookings_path, class: "text-white no-underline text-base" %>
            <%= link_to "Ride History", customer_ride_history_path, class: "text-white no-underline text-base" %>
            <%= link_to "Profile", profile_path, class: "text-white no-underline text-base" %>


          <% else %>
            <%= link_to "Manage Vehicles", driver_vehicles_path, class: "text-white no-underline text-base" %>
            <%= link_to "Booking Requests", booking_requests_path, class: "text-white no-underline text-base" %>
            <%= link_to "Ongoing Rides", driver_ongoing_path, class: "text-white no-underline text-base" %>
            <%= link_to "Ride History", driver_ride_history_path, class: "text-white no-underline text-base" %>
            <%= link_to "Profile", profile_path, class: "text-white no-underline text-base" %>

          <% end %>

          <%= link_to "Logout", select_role_path, method: :get, class: "bg-red-600 hover:bg-red-700 text-white font-semibold py-1.5 px-3 rounded text-base no-underline transition-colors duration-200" %>
        
        <% else %>
          <% session[:user_id] = nil %>
          <%= link_to "Login / Sign Up", select_role_path, class: "bg-blue-600 hover:bg-blue-700 text-white font-semibold py-1.5 px-3 rounded text-base no-underline transition-colors duration-200" %>
        <% end %>

      <% else %>
        <%= link_to "Login / Sign Up", select_role_path, class: "bg-blue-600 hover:bg-blue-700 text-white font-semibold py-1.5 px-3 rounded text-base no-underline transition-colors duration-200" %>
      <% end %>
    </div>
  </div>
</nav>
